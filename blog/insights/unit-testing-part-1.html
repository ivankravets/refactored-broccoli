<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="icon" href="/assets/favicon/favicon.png" type="image/png" /><link rel="apple-touch-icon" href="/assets/favicon/apple-touch-icon.png" /><link rel="stylesheet" href="/assets/css/libs.bundle.css?v=4" /><link rel="stylesheet" href="/assets/css/theme.bundle.css?v=4" /><title>Unit Testing with PlatformIO: Part 1. The Basics | PlatformIO Labs</title><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Unit Testing with PlatformIO: Part 1. The Basics" /><meta name="author" content="Valerii Koval" /><meta property="og:locale" content="en_US" /><meta name="description" content="This article is the beginning of a series that concentrates on creating a convenient environment with unit testing support" /><meta property="og:description" content="This article is the beginning of a series that concentrates on creating a convenient environment with unit testing support" /><link rel="canonical" href="https://piolabs.com/blog/insights/unit-testing-part-1.html" /><meta property="og:url" content="https://piolabs.com/blog/insights/unit-testing-part-1.html" /><meta property="og:site_name" content="PlatformIO Labs" /><meta property="og:image" content="https://piolabs.com/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-1.png" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-01-25T00:00:00+02:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://piolabs.com/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-1.png" /><meta property="twitter:title" content="Unit Testing with PlatformIO: Part 1. The Basics" /><meta name="twitter:site" content="@PlatformIO_Org" /><meta name="twitter:creator" content="@Valerii Koval" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Valerii Koval"},"dateModified":"2021-01-25T00:00:00+02:00","datePublished":"2021-01-25T00:00:00+02:00","description":"This article is the beginning of a series that concentrates on creating a convenient environment with unit testing support","headline":"Unit Testing with PlatformIO: Part 1. The Basics","image":"https://piolabs.com/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-1.png","mainEntityOfPage":{"@type":"WebPage","@id":"https://piolabs.com/blog/insights/unit-testing-part-1.html"},"publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://piolabs.com/assets/img/platformio-logo-icon.png"},"name":"Valerii Koval"},"url":"https://piolabs.com/blog/insights/unit-testing-part-1.html"}</script><link type="application/atom+xml" rel="alternate" href="https://piolabs.com/feed.xml" title="PlatformIO Labs" /></head><body><nav class="navbar navbar-expand-lg navbar-light"><div class="container"> <a class="navbar-brand" href="/"> <img src="/assets/img/platformio-labs-logo-horizontal.png" class="navbar-brand-img" alt="PlatformIO Labs"> </a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button><div class="collapse navbar-collapse" id="navbarCollapse"> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"> <i class="fe fe-x"></i> </button><ul class="navbar-nav ms-auto"><li class="nav-item"> <a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" id="navbarTechnology" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false"> Technology </a><div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarTechnology"><div class="row gx-0"><div class="col-12 col-lg-6"><div class="dropdown-img-start"><h3 class="text-white"> In-house IDE or Next-Gen?</h3><p class="fs-sm text-white text-center"> See comparison of the existing IDE solutions in the market</p><a href="/blog/insights/next-generation-ide-for-decades.html" class="btn btn-sm btn-white shadow-dark fonFt-size-sm"> Learn More </a></div></div><div class="col-12 col-lg-6 dropdown-body"><div class="list-group list-group-flush"> <a class="list-group-item" href="/technology/next-generation-ide-framework.html"><div class="icon icon-sm text-primary-desat"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M17.272 8.685a1 1 0 111.456-1.37l4 4.25a1 1 0 010 1.37l-4 4.25a1 1 0 01-1.456-1.37l3.355-3.565-3.355-3.565zm-10.544 0L3.373 12.25l3.355 3.565a1 1 0 01-1.456 1.37l-4-4.25a1 1 0 010-1.37l4-4.25a1 1 0 011.456 1.37z" fill="#335EEA" /> <rect fill="#335EEA" opacity=".3" transform="rotate(15 12 12)" x="11" y="4" width="2" height="16" rx="1" /> </g> </svg></div><div class="ms-4"><h6 class="text-uppercase text-primary-desat mb-0"> Next-Gen IDE Framework</h6><p class="fs-sm text-gray-700 mb-0"> Flexible, free IDE for everyone</p></div></a> <a class="list-group-item" href="/technology/modern-ui-toolkit.html"><div class="icon icon-sm text-success"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M5.5 4h4A1.5 1.5 0 0111 5.5v1A1.5 1.5 0 019.5 8h-4A1.5 1.5 0 014 6.5v-1A1.5 1.5 0 015.5 4zm9 12h4a1.5 1.5 0 011.5 1.5v1a1.5 1.5 0 01-1.5 1.5h-4a1.5 1.5 0 01-1.5-1.5v-1a1.5 1.5 0 011.5-1.5z" fill="#335EEA" /><path d="M5.5 10h4a1.5 1.5 0 011.5 1.5v7A1.5 1.5 0 019.5 20h-4A1.5 1.5 0 014 18.5v-7A1.5 1.5 0 015.5 10zm9-6h4A1.5 1.5 0 0120 5.5v7a1.5 1.5 0 01-1.5 1.5h-4a1.5 1.5 0 01-1.5-1.5v-7A1.5 1.5 0 0114.5 4z" fill="#335EEA" opacity=".3" /> </g> </svg></div><div class="ms-4"><h6 class="text-uppercase text-success mb-0"> Modern UI Toolkit</h6><p class="fs-sm text-gray-700 mb-0"> Build beautiful user interfaces</p></div></a> <a class="list-group-item" href="/technology/trusted-package-registry.html"><div class="icon icon-sm text-danger"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M5.5 2h13A1.5 1.5 0 0120 3.5v3A1.5 1.5 0 0118.5 8h-13A1.5 1.5 0 014 6.5v-3A1.5 1.5 0 015.5 2zM11 4a1 1 0 000 2h2a1 1 0 000-2h-2z" fill="#335EEA" opacity=".3" /><path d="M5.5 9h13a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 014 13.5v-3A1.5 1.5 0 015.5 9zm5.5 2a1 1 0 000 2h2a1 1 0 000-2h-2zm-5.5 5h13a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 014 20.5v-3A1.5 1.5 0 015.5 16zm5.5 2a1 1 0 000 2h2a1 1 0 000-2h-2z" fill="#335EEA" /> </g> </svg></div><div class="ms-4"><h6 class="text-uppercase text-danger mb-0"> Trusted Package Registry</h6><p class="fs-sm text-gray-700 mb-0"> Package management solution</p></div></a> <a class="list-group-item" href="https://platformio.org/"><div class="icon icon-sm text-dark"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18 14a3 3 0 110-6 3 3 0 010 6zm-9-3a4 4 0 110-8 4 4 0 010 8z" fill="#335EEA" opacity=".3" /><path d="M17.601 15c3.407.038 6.188 1.76 6.397 5.4.009.147 0 .6-.542.6H19.6c0-2.25-.744-4.328-1.999-6zm-17.6 5.2C.388 15.426 4.26 13 8.983 13c4.788 0 8.722 2.293 9.015 7.2.012.195 0 .8-.751.8H.727c-.25 0-.747-.54-.726-.8z" fill="#335EEA" /> </g> </svg></div><div class="ms-4"><h6 class="text-uppercase text-dark mb-0"> PlatformIO Open Source</h6><p class="fs-sm text-gray-700 mb-0"> Collaborative platform <i class="fe fe-log-out ms-3"></i></p></div></a></div></div></div></div></li><li class="nav-item"> <a class="nav-link" href="/blog/">Blog</a></li><li class="nav-item"> <a class="nav-link" href="/company/about.html">Company</a></li><li class="nav-item ps-lg-10 pt-2"><ul class="list-unstyled list-inline list-social "><li class="list-inline-item list-social-item me-3"> <a href="https://www.linkedin.com/company/platformio/" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Follow on LinkedIn" title="Follow on LinkedIn"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://twitter.com/PlatformIO_Org" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Follow on Twitter" title="Follow on Twitter"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://github.com/platformio" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/github.svg" class="list-social-icon" alt="Follow on Github" title="Follow on Github"> </a></li></ul></li></ul></div></div></nav><div class="bg-light border-top"><nav class="bg-gray-200"><div class="container"><div class="row"><div class="col-12"><ol class="breadcrumb breadcrumb-scroll"><li class="breadcrumb-item"> <a href="/blog/" class="text-gray-700"> Blog </a></li><li class="breadcrumb-item"> <a href="/blog/insights/" class="text-gray-700"> Insights </a></li><li class="breadcrumb-item active" aria-current="page"> Unit Testing with PlatformIO: Part 1. The Basics</li></ol></div></div></div></nav><article class="bg-white"><section class="pt-8 pt-md-11"><div class="container"><div class="row justify-content-center"><div class="col-12 col-md-10 col-lg-9 col-xl-8"><h1 class="display-4 text-center"> Unit Testing with PlatformIO: Part 1. The Basics</h1><p class="lead mb-7 text-center text-muted"> Introduction to Unit Testing mechanism used in PlatformIO ecosystem</p><div class="row align-items-center py-5 border-top border-bottom"><div class="col-auto"><div class="avatar avatar-lg"> <a href="https://www.linkedin.com/in/valeros/" target="_blank"><img src="/assets/img/avatars/vkoval.jpg" alt="Valerii Koval" class="avatar-img rounded-circle"></a></div></div><div class="col ms-n5"><h6 class="text-uppercase mb-0"> <a href="https://www.linkedin.com/in/valeros/" target="_blank">Valerii Koval</a></h6><div class="fs-sm text-muted"> Head of System Integration at PlatformIO Labs</div></div><div class="col-auto"> <span class="h6 text-uppercase text-muted d-none d-md-inline me-4"> Share: </span><ul class="list-unstyled list-inline list-social "><li class="list-inline-item list-social-item me-3"> <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Funit-testing-part-1.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Follow on LinkedIn" title="Follow on LinkedIn"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Funit-testing-part-1.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Follow on Twitter" title="Follow on Twitter"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Funit-testing-part-1.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/facebook.svg" class="list-social-icon" alt="Follow on Facebook" title="Follow on Facebook"> </a></li></ul></div></div></div></div></div></section><section class="pt-6 pt-md-8"><div class="container"><div class="row justify-content-center"><div class="col-12 col-md-10 col-lg-9 col-xl-8"><p>Unit testing isn’t a new concept in the software engineering field, it has been around for at least the past three decades. At the same time, it is still not so widespread in the embedded industry, even though the situation is getting better in recent years.</p><p>This article is the beginning of a series that concentrates on creating a convenient environment for test-driven development for embedded devices. For your reference, below is a list of the articles in this series:</p><ul><li>Part 1. The Basics (this article)</li><li><a href="/blog/insights/unit-testing-part-2.html">Part 2. Running tests on an embedded target</a></li><li><a href="/blog/insights/unit-testing-part-3.html">Part 3. Continuous Integration and Remote Testing</a></li></ul><h3>Table of Contents</h3><ul id="markdown-toc"><li><a href="#introduction" id="markdown-toc-introduction">Introduction</a></li><li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li><li><a href="#getting-started" id="markdown-toc-getting-started">Getting started</a></li><li><a href="#adding-first-tests" id="markdown-toc-adding-first-tests">Adding first tests</a></li><li><a href="#summary" id="markdown-toc-summary">Summary</a></li><li><a href="#stay-in-touch-with-us" id="markdown-toc-stay-in-touch-with-us">Stay in touch with us</a></li></ul><h2 id="introduction">Introduction</h2><p>In a nutshell, unit testing boils down to splitting the code into small units which can be tested in isolation to verify their behavior in different circumstances. The main benefit of thorough unit testing is looser coupling between software modules which implicitly leads to better software design. A broad set of tests also improves developer confidence in the project codebase by exposing errors very early in the development cycle and preventing regression bugs.</p><p>Thanks to proper module isolation, tests can be run directly on the host machine which allows us to start developing software even without real hardware at hand. Besides, well-structured tests represent a form of documentation on the proper use of each tested module.</p><p>In embedded software, a “unit” usually represents a single module that consists of a source file and an accompanying header file. This module usually abstracts a part of the system and packs together a group of related functions and data, for example, a peripheral driver, data structure, etc.</p><p>In this series, we will implement and test a very useful array-based data structure called <code class="language-plaintext highlighter-rouge">circular buffer</code>. In a nutshell, the main advantage of <code class="language-plaintext highlighter-rouge">circular buffer</code> is that it does not need to have its elements shifted each time when a new element is added.</p><p>Please note, the project in this series has been purposefully made as simple as possible for the sake of clarity. A comprehensive description of all nuances of implementing a proper circular buffer can easily take an entire dedicated article. The goal of this series is to concentrate on testing workflow, so don’t rely on the code presented in this series in real projects.</p><h2 id="prerequisites">Prerequisites</h2><ul><li><a href="https://docs.platformio.org/en/latest/integration/ide/vscode.html" target="_blank">VSCode with installed PlatformIO IDE extension</a></li></ul><h2 id="getting-started">Getting started</h2><p>We will start with testing our module on the host machine. First, we need to install the <code class="language-plaintext highlighter-rouge">native</code> development platform. PlatformIO doesn’t install any toolchains automatically for the <code class="language-plaintext highlighter-rouge">native</code> dev-platform and uses the toolchain (preferably based on <code class="language-plaintext highlighter-rouge">GCC</code>) native for your OS (on Windows it’s recommended to install <a href="http://www.mingw.org/" target="_blank">MinGW</a> and make it available via <code class="language-plaintext highlighter-rouge">PATH</code> variable). Let’s install the <code class="language-plaintext highlighter-rouge">native</code> dev-platform via PlatformIO Home:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-2.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-2.png" /> </a></p><p>Instead of creating our project from scratch, we can conveniently import the “Hello World” example and use it as a boilerplate:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-3.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-3.png" /> </a></p><p>Let’s replace the contents of the <code class="language-plaintext highlighter-rouge">main.c</code> file with an empty <code class="language-plaintext highlighter-rouge">main</code> function:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">int</span> <span class="nf">main</span> <span class="p">()</span>
<span class="p">{</span>

<span class="p">}</span>
</code></pre></div></div><p>If we try to build the project, we should see the successful result:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-4.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-4.png" /> </a></p><h2 id="adding-first-tests">Adding first tests</h2><p>PlatformIO comes with its own tool called <code class="language-plaintext highlighter-rouge">Unit Testing Engine</code> to help you start testing as quickly as possible. Out-of-the-box support for a unit testing framework called <code class="language-plaintext highlighter-rouge">Unity</code> and a built-in test runner allows us to start writing tests without any preconfiguration. We just need to add new files with test cases to the <code class="language-plaintext highlighter-rouge">test</code> folder. For more details on the Unity Test API used in this project, see the overview in <a href="https://docs.platformio.org/en/latest/plus/unit-testing.html#api" target="_blank">PlatformIO Documentation</a>.</p><p>Back to the project, let’s create a new file <code class="language-plaintext highlighter-rouge">test_circular_buffer.c</code> with the following boilerplate code:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;unity.h&gt;</span><span class="cp">
</span>
<span class="kt">void</span> <span class="nf">setUp</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// set stuff up here</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">tearDown</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// clean stuff up here</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UNITY_BEGIN</span><span class="p">();</span>
    <span class="n">UNITY_END</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div><div class="alert alert-light" role="alert"> Note that the temporary empty definitions of the <i>setUp</i> and <i>tearDown</i> functions are strictly required only on Windows. The purpose of these helper functions is discussed later in the article.</div><p>Now if we run the <code class="language-plaintext highlighter-rouge">Test</code> task in the PlatformIO shortcut menu we should see that PlatformIO successfully detected our new file with no tests inside:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-5.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-5.png" /> </a></p><p>Now it’s time to think through the API for our implementation. We recommend to split any application into isolated modules and place them into the special <code class="language-plaintext highlighter-rouge">lib</code> folder in the root of the project. PlatformIO offers a very convenient mechanism called <code class="language-plaintext highlighter-rouge">Library Dependency Finder (LDF)</code> that will find these modules and automatically add them to the project build tree based on included header files or explicit dependencies specified in the <code class="language-plaintext highlighter-rouge">platformio.ini</code> file.</p><p>For the sake of simplicity, our buffer will be fixed-sized with 8-bit bytes as elements. The basic functionality will include the following functions:</p><ul><li>Initialization of a circular buffer</li><li>Adding a new element to a circular buffer</li><li>Getting an element from a circular buffer</li><li>Reporting whether a circular buffer is empty</li><li>Cleaning the entire circular buffer</li></ul><p>The requirements above lead us to the following header file for our module:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#ifndef CIRCULAR_BUFFER_H
#define CIRCULAR_BUFFER_H
</span>
<span class="cp">#include</span> <span class="cpf">&lt;stdint.h&gt;</span><span class="cp">
#include</span> <span class="cpf">&lt;stdbool.h&gt;</span><span class="cp">
</span>
<span class="cm">/*
    If the buffer is of a power-of-2 size,
    then a much quicker bitwise-AND instruction can be used instead.
*/</span>

<span class="cp">#ifndef BUFFER_SIZE
#define BUFFER_SIZE (32)
#endif
</span>
<span class="cp">#if (BUFFER_SIZE &amp; (BUFFER_SIZE - 1)) != 0
#error "BUFFER_SIZE must be a power of two"
#endif
</span>
<span class="cp">#define BUFFER_MASK (BUFFER_SIZE-1)
</span>
<span class="k">typedef</span> <span class="k">struct</span> <span class="n">cbuffer_s</span>
<span class="p">{</span>
  <span class="kt">uint8_t</span> <span class="n">buffer</span><span class="p">[</span><span class="n">BUFFER_SIZE</span><span class="p">];</span>
  <span class="kt">int</span> <span class="n">head</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">tail</span><span class="p">;</span>
<span class="p">}</span> <span class="n">cbuffer_t</span><span class="p">;</span>


<span class="kt">void</span> <span class="nf">cbuffer_init</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">cbuffer_add</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">item</span><span class="p">);</span>
<span class="kt">uint8_t</span> <span class="nf">cbuffer_get</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">);</span>
<span class="n">bool</span> <span class="nf">cbuffer_empty</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">);</span>
<span class="n">bool</span> <span class="nf">cbuffer_full</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">);</span>
<span class="kt">void</span> <span class="nf">cbuffer_clear</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">);</span>

<span class="cp">#endif // CIRCULAR_BUFFER_H
</span></code></pre></div></div><p>Let’s create a new folder <code class="language-plaintext highlighter-rouge">lib/cbuffer</code> and add two new files: <code class="language-plaintext highlighter-rouge">cbuffer.h</code> with the code above and <code class="language-plaintext highlighter-rouge">cbuffer.c</code> with empty implementations:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">"cbuffer.h"</span><span class="cp">
</span>
<span class="kt">void</span> <span class="nf">cbuffer_init</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>

<span class="n">bool</span> <span class="nf">cbuffer_empty</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">true</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">cbuffer_add</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">item</span><span class="p">)</span> <span class="p">{</span>

<span class="p">}</span>

<span class="kt">uint8_t</span> <span class="nf">cbuffer_get</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>


<span class="n">bool</span> <span class="nf">cbuffer_full</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">false</span><span class="p">;</span>
<span class="p">}</span>


<span class="kt">void</span> <span class="nf">cbuffer_clear</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{}</span>
</code></pre></div></div><p>The function stubs above do nothing in terms of functionality, but they are required at this step so we can compile test binary without linker issues.</p><p>It’s time to add the first test case. It’s logical to assume that after initialization a circular buffer shouldn’t contain any elements, let’s test this behavior by adding the first test case to the <code class="language-plaintext highlighter-rouge">test_circular_buffer.c</code> file:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span> <span class="cpf">&lt;unity.h&gt;</span><span class="cp">
#include</span> <span class="cpf">"cbuffer.h"</span><span class="cp">
</span>
<span class="kt">void</span> <span class="nf">setUp</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// set stuff up here</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">tearDown</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// clean stuff up here</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">test_circular_buffer_empty_after_init</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cbuffer_t</span> <span class="n">buff</span><span class="p">;</span>

    <span class="n">cbuffer_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">);</span>

    <span class="n">TEST_ASSERT_TRUE</span><span class="p">(</span><span class="n">cbuffer_empty</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">));</span>
<span class="p">}</span>


<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span> <span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">UNITY_BEGIN</span><span class="p">();</span>

    <span class="n">RUN_TEST</span><span class="p">(</span><span class="n">test_circular_buffer_empty_after_init</span><span class="p">);</span>

    <span class="n">UNITY_END</span><span class="p">();</span>
<span class="p">}</span>
</code></pre></div></div><p>The body of the test function is pretty simple. We create a new buffer and initialize it in the default state. By using the <code class="language-plaintext highlighter-rouge">TEST_ASSERT_TRUE</code> statement we check that the return value from the <code class="language-plaintext highlighter-rouge">cbuffer_empty</code> function is exactly what we expect. If we run the <code class="language-plaintext highlighter-rouge">Test</code> task again, PlatformIO will report that everything worked as expected, and that seems correct since we hardcoded the return value of the <code class="language-plaintext highlighter-rouge">cbuffer_empty</code> to be <code class="language-plaintext highlighter-rouge">true</code>. Let’s add another test that adds a new element to the buffer and checks that it’s not empty:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">test_circular_buffer_not_empty_after_new_element_added</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cbuffer_t</span> <span class="n">buff</span><span class="p">;</span>
    <span class="n">cbuffer_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">);</span>

    <span class="n">cbuffer_add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">,</span> <span class="mi">100</span><span class="p">);</span>

    <span class="n">TEST_ASSERT_FALSE</span><span class="p">(</span><span class="n">cbuffer_empty</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div><p>This time PlatformIO complains that our new test failed:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-6.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-6.png" /> </a></p><p>This means that it’s time to implement some missing parts of our module in the <code class="language-plaintext highlighter-rouge">lib/cbuffer/cbuffer.c</code> file:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">cbuffer_init</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">buf</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="n">buf</span><span class="o">-&gt;</span><span class="n">tail</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">bool</span> <span class="nf">cbuffer_empty</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">buf</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">==</span> <span class="n">buf</span><span class="o">-&gt;</span><span class="n">tail</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">cbuffer_add</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="n">item</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="n">cbuffer_full</span><span class="p">(</span><span class="n">buf</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">buf</span><span class="o">-&gt;</span><span class="n">tail</span> <span class="o">=</span> <span class="p">((</span><span class="n">buf</span><span class="o">-&gt;</span><span class="n">tail</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">BUFFER_MASK</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">buf</span><span class="o">-&gt;</span><span class="n">buffer</span><span class="p">[</span><span class="n">buf</span><span class="o">-&gt;</span><span class="n">head</span><span class="p">]</span> <span class="o">=</span> <span class="n">item</span><span class="p">;</span>
  <span class="n">buf</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="p">((</span><span class="n">buf</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">BUFFER_MASK</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><p>Now, if we run our tests, we see that all of them passed:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-7.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-7.png" /> </a></p><p>In the same way, we can add a new test <code class="language-plaintext highlighter-rouge">test_circular_buffer_reports_full_correctly</code>:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">test_circular_buffer_reports_full_correctly</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cbuffer_t</span> <span class="n">buff</span><span class="p">;</span>
    <span class="n">cbuffer_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">);</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">uint8_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">BUFFER_SIZE</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cbuffer_add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="p">}</span>

    <span class="n">TEST_ASSERT_TRUE</span><span class="p">(</span><span class="n">cbuffer_full</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div><p>Now we can implement the <code class="language-plaintext highlighter-rouge">cbuffer_full</code> function and ensure that it works as expected:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">bool</span> <span class="nf">cbuffer_full</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">((</span><span class="n">buf</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">-</span> <span class="n">buf</span><span class="o">-&gt;</span><span class="n">tail</span><span class="p">)</span> <span class="o">&amp;</span> <span class="n">BUFFER_MASK</span><span class="p">)</span> <span class="o">==</span> <span class="n">BUFFER_MASK</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p>The next step is to implement reading from the buffer. Let’s write a new test case for this functionality and run the tests:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">test_circular_buffer_read_element_succesful</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cbuffer_t</span> <span class="n">buff</span><span class="p">;</span>
    <span class="n">cbuffer_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">);</span>

    <span class="kt">uint8_t</span> <span class="n">value</span> <span class="o">=</span> <span class="mi">55</span><span class="p">;</span>
    <span class="n">cbuffer_add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">,</span> <span class="n">value</span><span class="p">);</span>

    <span class="n">TEST_ASSERT_EQUAL</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">cbuffer_get</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div><p>Predictably, the new test failed because the <code class="language-plaintext highlighter-rouge">cbuffer_get</code> function is not implemented yet. Let’s fix that by adding the following code to our module:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">uint8_t</span> <span class="nf">cbuffer_get</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">cbuffer_empty</span><span class="p">(</span><span class="n">buf</span><span class="p">))</span>
        <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">return</span> <span class="n">buf</span><span class="o">-&gt;</span><span class="n">buffer</span><span class="p">[</span><span class="n">buf</span><span class="o">-&gt;</span><span class="n">tail</span><span class="o">++</span><span class="p">];</span>
<span class="p">}</span>
</code></pre></div></div><p>The last requirement states that we have to provide a function that clears the entire buffer. Let’s start by writing a simple test case which uses this feature and fails if we run the tests:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">test_circular_buffer_cleaned_succesfully</span><span class="p">()</span> <span class="p">{</span>
    <span class="n">cbuffer_t</span> <span class="n">buff</span><span class="p">;</span>
    <span class="n">cbuffer_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">);</span>

    <span class="k">for</span> <span class="p">(</span><span class="kt">uint8_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">BUFFER_SIZE</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">cbuffer_add</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">,</span> <span class="n">i</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">cbuffer_clear</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">);</span>

    <span class="n">TEST_ASSERT_TRUE</span><span class="p">(</span><span class="n">cbuffer_empty</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">));</span>
<span class="p">}</span>
</code></pre></div></div><p>We can implement the <code class="language-plaintext highlighter-rouge">cbuffer_clear</code> function in the following way:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">cbuffer_clear</span><span class="p">(</span><span class="n">cbuffer_t</span><span class="o">*</span> <span class="n">buf</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">buf</span><span class="o">-&gt;</span><span class="n">head</span> <span class="o">=</span> <span class="n">buf</span><span class="o">-&gt;</span><span class="n">tail</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div><p>Unit testing often deals with a lot of repeated code. Usually, we need to prepare some context before a test can be run and we also might have some finishing work after. Fortunately, testing frameworks like <code class="language-plaintext highlighter-rouge">Unity</code> have helper functions which can help us get rid of that code duplication:</p><ul><li><code class="language-plaintext highlighter-rouge">setUp</code> function is called before the invocation of each test method</li><li><code class="language-plaintext highlighter-rouge">tearDown</code> function is called after the invocation of each test method</li></ul><p>If we take a look at the contents of the <code class="language-plaintext highlighter-rouge">test_circular_buffer.c</code> file, we can notice that all tests contain code where we initialize a buffer before validating behavior. Let’s extract that initialization step into the <code class="language-plaintext highlighter-rouge">setUp</code> function and clean the buffer in the <code class="language-plaintext highlighter-rouge">tearDown</code> function accordingly:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kt">void</span> <span class="nf">setUp</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cbuffer_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">tearDown</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cbuffer_clear</span><span class="p">(</span><span class="o">&amp;</span><span class="n">buff</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><p>Now the tests look much better and if we run our tests again, PlatformIO will report that all tests are successful.</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-8.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-01-25-unit-testing-part-1/unit-testing-part-1-8.png" /> </a></p><p>At his point we’ve satisfied all the requirements specified in the beginning of this post. There are plenty of features that haven’t been implemented and probably even more edge cases that haven’t been tested properly. All of them could greatly improve our implementation, but they are out of the scope of this post since the main goal of this series is to introduce you to the unit testing mechanism used in PlatformIO.</p><h2 id="summary">Summary</h2><p>Unit testing may look like an exhausting and boring process that introduces additional challenges, but in the long run, there are significant benefits. Unit testing forces the developers to write testable code which implicitly leads to better modular and loosely-coupled design, fewer bugs and less debug time. The more checks are covered in unit tests, the higher the quality of the final code.</p><p>In the <a href="/blog/insights/unit-testing-part-2.html">next post</a>, we will try to run our tests on real hardware and explore the subtleties of setting up a communication channel for getting results from an embedded device.</p><h2 id="stay-in-touch-with-us">Stay in touch with us</h2><p>Stay tuned to this blog or follow us on <a href="https://www.linkedin.com/company/platformio" target="_blank">LinkedIn</a> and Twitter <a href="https://twitter.com/PlatformIO_Org" target="_blank">@PlatformIO_Org</a> to keep up to date with the latest news, articles and tips!</p></div></div></div></section><section class="py-6 py-md-8"><div class="container"><div class="row justify-content-center"><div class="col-12 col-md-10 col-lg-9 col-xl-8"><div class="row align-items-center py-5 border-top border-bottom"><div class="col-auto"><div class="avatar avatar-lg"> <a href="https://www.linkedin.com/in/valeros/" target="_blank"><img src="/assets/img/avatars/vkoval.jpg" alt="Valerii Koval" class="avatar-img rounded-circle"></a></div></div><div class="col ms-n5"><h6 class="text-uppercase mb-0"> <a href="https://www.linkedin.com/in/valeros/" target="_blank">Valerii Koval</a></h6><div class="fs-sm text-muted"> <time datetime="2021-01-25T00:00:00+02:00"> Published on 25th Jan 2021 </time></div></div><div class="col-auto"> <span class="h6 text-uppercase text-muted d-none d-md-inline me-4"> Share: </span><ul class="list-unstyled list-inline list-social "><li class="list-inline-item list-social-item me-3"> <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Funit-testing-part-1.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Follow on LinkedIn" title="Follow on LinkedIn"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Funit-testing-part-1.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Follow on Twitter" title="Follow on Twitter"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Funit-testing-part-1.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/facebook.svg" class="list-social-icon" alt="Follow on Facebook" title="Follow on Facebook"> </a></li></ul></div></div></div></div></div></section></article><section class="pt-4 pt-md-6 pb-8 pb-md-10 bg-white"><div class="container"><div class="row justify-content-center"><div class="col-12 col-md-10 col-lg-9 col-xl-8"><div class="row align-items-center"><div class="col-12 col-md"><h3 class="mb-1"> Have questions?</h3><p class="fs-lg text-muted mb-6 mb-md-0"> Join the discussion on our forum</p></div><div class="col-12 col-md-auto"> <a href="https://community.platformio.org/t/unit-testing-with-platformio-part-1-the-basics/18799" class="btn btn-primary-soft me-1 lift" target="_blank"> Continue discussion <i class="fe fe-arrow-right ms-3"></i> </a></div></div></div></div></div></section><section class="pt-7 pb-9 pt-md-10 bg-light border-top"><div class="container"><div class="row align-items-center mb-5"><div class="col-12 col-md"><h3 class="mb-0"> Popular posts</h3></div><div class="col-12 col-md-auto"> <a href="/blog/latest.html" class="btn btn-sm btn-outline-gray-300 d-none d-md-inline"> View more </a></div></div><div class="row"><div class="col-12 col-md-6 col-lg-4 d-flex"><div class="card mb-6 shadow-light-lg lift lift-lg"> <a class="card-img-top" href="/blog/news/platformio-oss-october-2021-updates.html"> <img src="/assets/posts/oss-updates/platformio-oss-october-news.jpg" alt="PlatformIO Open Source October Updates" class="card-img-top"><div class="position-relative"><div class="shape shape-bottom shape-fluid-x text-white"> <svg viewBox="0 0 2880 480" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2160 0C1440 240 720 240 720 240H0v240h2880V0h-720z" fill="currentColor" /> </svg></div></div></a> <a class="card-body" href="/blog/news/platformio-oss-october-2021-updates.html"><h3> PlatformIO Open Source October Updates</h3><p class="mb-0 text-muted"> PlatformIO Core 5.2, New boards & dev-kits, Support for Zephyr v2.7.0 and Teensyduino v1.55, Updated Arduino Cores for Microchip SAM, ST STM32, Nordic nRF52 and Mbed-enabled devices</p></a> <a class="card-meta mt-auto" href="/blog/news/platformio-oss-october-2021-updates.html"><hr class="card-meta-divider"><div class="avatar avatar-sm me-2"> <img src="/assets/img/avatars/vkoval.jpg" alt="Valerii Koval" class="avatar-img rounded-circle"></div><h6 class="text-uppercase text-muted me-2 mb-0"> Valerii Koval</h6><p class="h6 text-uppercase text-muted mb-0 ms-auto"> <time datetime="2021-11-01T00:00:00+02:00">Nov 01</time></p></a></div></div><div class="col-12 col-md-6 col-lg-4 d-flex"><div class="card mb-6 shadow-light-lg lift lift-lg"> <a class="card-img-top" href="/blog/press-releases/platformio-labs-helps-imagination-technologies.html"> <img src="/assets/posts/2021-03-08-platformio-labs-helps-imagination-technologies/platformio-labs-helps-imagination-technologies-1.jpg" alt="PlatformIO Labs Helps Imagination Technologies Improve RISC-V Computer Architecture Training" class="card-img-top"><div class="position-relative"><div class="shape shape-bottom shape-fluid-x text-white"> <svg viewBox="0 0 2880 480" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2160 0C1440 240 720 240 720 240H0v240h2880V0h-720z" fill="currentColor" /> </svg></div></div></a> <a class="card-body" href="/blog/press-releases/platformio-labs-helps-imagination-technologies.html"><h3> PlatformIO Labs Helps Imagination Technologies Improve RISC-V Computer Architecture Training</h3><p class="mb-0 text-muted"> PlatformIO Labs joins efforts with industry leaders to satisfy the increasing demand for in-depth educational materials</p></a> <a class="card-meta mt-auto" href="/blog/press-releases/platformio-labs-helps-imagination-technologies.html"><hr class="card-meta-divider"><div class="avatar avatar-sm me-2"> <img src="/assets/img/avatars/ikravets.jpg" alt="Ivan Kravets" class="avatar-img rounded-circle"></div><h6 class="text-uppercase text-muted me-2 mb-0"> Ivan Kravets</h6><p class="h6 text-uppercase text-muted mb-0 ms-auto"> <time datetime="2021-03-08T00:00:00+02:00">Mar 08</time></p></a></div></div><div class="col-12 col-md-6 col-lg-4 d-flex"><div class="card mb-6 shadow-light-lg lift lift-lg"> <a class="card-img-top" href="/blog/insights/unit-testing-part-2.html"> <img src="/assets/posts/2021-03-29-unit-testing-part-2/unit-testing-part-2-2.png" alt="Unit Testing with PlatformIO: Part 2. Running tests on an embedded target" class="card-img-top"><div class="position-relative"><div class="shape shape-bottom shape-fluid-x text-white"> <svg viewBox="0 0 2880 480" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2160 0C1440 240 720 240 720 240H0v240h2880V0h-720z" fill="currentColor" /> </svg></div></div></a> <a class="card-body" href="/blog/insights/unit-testing-part-2.html"><h3> Unit Testing with PlatformIO: Part 2. Running tests on an embedded target</h3><p class="mb-0 text-muted"> The second article in the series that covers creating a convenient testing environment for embedded development</p></a> <a class="card-meta mt-auto" href="/blog/insights/unit-testing-part-2.html"><hr class="card-meta-divider"><div class="avatar avatar-sm me-2"> <img src="/assets/img/avatars/vkoval.jpg" alt="Valerii Koval" class="avatar-img rounded-circle"></div><h6 class="text-uppercase text-muted me-2 mb-0"> Valerii Koval</h6><p class="h6 text-uppercase text-muted mb-0 ms-auto"> <time datetime="2021-03-29T00:00:00+03:00">Mar 29</time></p></a></div></div></div></div></section></div><div class="position-relative"><div class="shape shape-bottom shape-fluid-x text-dark"> <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg></div></div><section class="bg-dark "><footer class="py-8 py-md-11 bg-dark border-gray-800-50 "><div class="container"><div class="row"><div class="col-12 col-md-6 col-lg-4"> <a href="/"><img src="/assets/img/platformio-labs-logo-horizontal-white.png" alt="PlatformIO Labs" class="img-fluid mb-2 mw-lg-75"></a><p class="text-gray-400 mb-2"> Make embedded developers and teams happy.</p><ul class="list-unstyled list-inline list-social mb-2"><li class="list-inline-item list-social-item me-3"> <a href="https://www.linkedin.com/company/platformio/" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Follow on LinkedIn" title="Follow on LinkedIn"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://twitter.com/PlatformIO_Org" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Follow on Twitter" title="Follow on Twitter"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://www.facebook.com/platformio" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/facebook.svg" class="list-social-icon" alt="Follow on Facebook" title="Follow on Facebook"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://github.com/platformio" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/github.svg" class="list-social-icon" alt="Follow on Github" title="Follow on Github"> </a></li></ul><p class="mb-6 mb-md-2 text-gray-600"> <small>© 2014-2023 PlatformIO Labs.</small></p></div><div class="col-12 col-md-6 col-lg-2"><h6 class="text-uppercase text-gray-400"> Company</h6><ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0"><li class="mb-3"> <a href="/" class="text-reset"> Home </a></li><li class="mb-3"> <a href="/company/about.html" class="text-reset"> About Us </a></li><li class="mb-3"> <a href="/blog/" class="text-reset"> Blog </a></li><li class="mb-3"> <a href="/#contact-us" class="text-reset"> Contact Us </a></li></ul></div><div class="col-12 col-md-6 col-lg-3"><h6 class="text-uppercase text-gray-400"> Technology</h6><ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0"><li class="mb-3"> <a href="/technology/next-generation-ide-framework.html" class="text-reset"> Next-Gen IDE Framework </a></li><li class="mb-3"> <a href="/technology/modern-ui-toolkit.html" class="text-reset"> Modern UI Toolkit </a></li><li class="mb-3"> <a href="/technology/trusted-package-registry.html" class="text-reset"> Trusted Package Registry </a></li><li> <a href="https://platformio.org/" class="text-reset"> PlatformIO Open Source </a></li></ul></div><div class="col-12 col-md-6 col-lg-3"><h6 class="text-uppercase text-gray-400"> Legal</h6><ul class="list-unstyled text-muted mb-0"><li class="mb-3"> <a href="/legal/code-of-conduct.html" class="text-reset"> Code of Conduct </a></li><li class="mb-3"> <a href="/legal/privacy.html" class="text-reset"> Privacy Policy </a></li><li class="mb-3"> <a href="/legal/terms-of-use.html" class="text-reset"> Terms of Use </a></li><li class="mb-3"> <a href="/legal/trademarks.html" class="text-reset"> Trademarks </a></li></ul></div></div></div></footer></section><script src="/assets/js/vendor.bundle.js?v=4"></script> <script src="/assets/js/theme.bundle.js?v=4"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1768265-12"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-1768265-12'); </script></body></html>

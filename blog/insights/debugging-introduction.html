<!doctype html><html lang="en"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><link rel="icon" href="/assets/favicon/favicon.png" type="image/png" /><link rel="apple-touch-icon" href="/assets/favicon/apple-touch-icon.png" /><link rel="stylesheet" href="/assets/css/libs.bundle.css?v=4" /><link rel="stylesheet" href="/assets/css/theme.bundle.css?v=4" /><title>Debugging with PlatformIO: Part 1. Back to the Basics | PlatformIO Labs</title><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Debugging with PlatformIO: Part 1. Back to the Basics" /><meta name="author" content="Valerii Koval" /><meta property="og:locale" content="en_US" /><meta name="description" content="Debugging is an inseparable part of the development process. The first part provides a brief introduction to the debugging concept and covers the basics of debugging process used in the PlatformIO IDE for VSCode." /><meta property="og:description" content="Debugging is an inseparable part of the development process. The first part provides a brief introduction to the debugging concept and covers the basics of debugging process used in the PlatformIO IDE for VSCode." /><link rel="canonical" href="https://piolabs.com/blog/insights/debugging-introduction.html" /><meta property="og:url" content="https://piolabs.com/blog/insights/debugging-introduction.html" /><meta property="og:site_name" content="PlatformIO Labs" /><meta property="og:image" content="https://piolabs.com/assets/posts/2021-09-20-debugging-introduction/title.jpg" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-09-20T00:00:00+03:00" /><meta name="twitter:card" content="summary_large_image" /><meta property="twitter:image" content="https://piolabs.com/assets/posts/2021-09-20-debugging-introduction/title.jpg" /><meta property="twitter:title" content="Debugging with PlatformIO: Part 1. Back to the Basics" /><meta name="twitter:site" content="@PlatformIO_Org" /><meta name="twitter:creator" content="@Valerii Koval" /> <script type="application/ld+json"> {"url":"https://piolabs.com/blog/insights/debugging-introduction.html","image":"https://piolabs.com/assets/posts/2021-09-20-debugging-introduction/title.jpg","headline":"Debugging with PlatformIO: Part 1. Back to the Basics","dateModified":"2021-09-20T00:00:00+03:00","datePublished":"2021-09-20T00:00:00+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://piolabs.com/blog/insights/debugging-introduction.html"},"author":{"@type":"Person","name":"Valerii Koval"},"description":"Debugging is an inseparable part of the development process. The first part provides a brief introduction to the debugging concept and covers the basics of debugging process used in the PlatformIO IDE for VSCode.","@type":"BlogPosting","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"https://piolabs.com/assets/img/platformio-logo-icon.png"},"name":"Valerii Koval"},"@context":"https://schema.org"}</script><link type="application/atom+xml" rel="alternate" href="https://piolabs.com/feed.xml" title="PlatformIO Labs" /></head><body><nav class="navbar navbar-expand-lg navbar-light"><div class="container"> <a class="navbar-brand" href="/"> <img src="/assets/img/platformio-labs-logo-horizontal.png" class="navbar-brand-img" alt="PlatformIO Labs"> </a> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"> <span class="navbar-toggler-icon"></span> </button><div class="collapse navbar-collapse" id="navbarCollapse"> <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation"> <i class="fe fe-x"></i> </button><ul class="navbar-nav ms-auto"><li class="nav-item"> <a class="nav-link" href="/">Home</a></li><li class="nav-item dropdown"> <a class="nav-link dropdown-toggle" id="navbarTechnology" data-bs-toggle="dropdown" href="#" aria-haspopup="true" aria-expanded="false"> Technology </a><div class="dropdown-menu dropdown-menu-xl p-0" aria-labelledby="navbarTechnology"><div class="row gx-0"><div class="col-12 col-lg-6"><div class="dropdown-img-start"><h3 class="text-white"> In-house IDE or Next-Gen?</h3><p class="fs-sm text-white text-center"> See comparison of the existing IDE solutions in the market</p><a href="/blog/insights/next-generation-ide-for-decades.html" class="btn btn-sm btn-white shadow-dark fonFt-size-sm"> Learn More </a></div></div><div class="col-12 col-lg-6 dropdown-body"><div class="list-group list-group-flush"> <a class="list-group-item" href="/technology/next-generation-ide-framework.html"><div class="icon icon-sm text-primary-desat"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M17.272 8.685a1 1 0 111.456-1.37l4 4.25a1 1 0 010 1.37l-4 4.25a1 1 0 01-1.456-1.37l3.355-3.565-3.355-3.565zm-10.544 0L3.373 12.25l3.355 3.565a1 1 0 01-1.456 1.37l-4-4.25a1 1 0 010-1.37l4-4.25a1 1 0 011.456 1.37z" fill="#335EEA" /> <rect fill="#335EEA" opacity=".3" transform="rotate(15 12 12)" x="11" y="4" width="2" height="16" rx="1" /> </g> </svg></div><div class="ms-4"><h6 class="text-uppercase text-primary-desat mb-0"> Next-Gen IDE Framework</h6><p class="fs-sm text-gray-700 mb-0"> Flexible, free IDE for everyone</p></div></a> <a class="list-group-item" href="/technology/modern-ui-toolkit.html"><div class="icon icon-sm text-success"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M5.5 4h4A1.5 1.5 0 0111 5.5v1A1.5 1.5 0 019.5 8h-4A1.5 1.5 0 014 6.5v-1A1.5 1.5 0 015.5 4zm9 12h4a1.5 1.5 0 011.5 1.5v1a1.5 1.5 0 01-1.5 1.5h-4a1.5 1.5 0 01-1.5-1.5v-1a1.5 1.5 0 011.5-1.5z" fill="#335EEA" /><path d="M5.5 10h4a1.5 1.5 0 011.5 1.5v7A1.5 1.5 0 019.5 20h-4A1.5 1.5 0 014 18.5v-7A1.5 1.5 0 015.5 10zm9-6h4A1.5 1.5 0 0120 5.5v7a1.5 1.5 0 01-1.5 1.5h-4a1.5 1.5 0 01-1.5-1.5v-7A1.5 1.5 0 0114.5 4z" fill="#335EEA" opacity=".3" /> </g> </svg></div><div class="ms-4"><h6 class="text-uppercase text-success mb-0"> Modern UI Toolkit</h6><p class="fs-sm text-gray-700 mb-0"> Build beautiful user interfaces</p></div></a> <a class="list-group-item" href="/technology/trusted-package-registry.html"><div class="icon icon-sm text-danger"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M5.5 2h13A1.5 1.5 0 0120 3.5v3A1.5 1.5 0 0118.5 8h-13A1.5 1.5 0 014 6.5v-3A1.5 1.5 0 015.5 2zM11 4a1 1 0 000 2h2a1 1 0 000-2h-2z" fill="#335EEA" opacity=".3" /><path d="M5.5 9h13a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 014 13.5v-3A1.5 1.5 0 015.5 9zm5.5 2a1 1 0 000 2h2a1 1 0 000-2h-2zm-5.5 5h13a1.5 1.5 0 011.5 1.5v3a1.5 1.5 0 01-1.5 1.5h-13A1.5 1.5 0 014 20.5v-3A1.5 1.5 0 015.5 16zm5.5 2a1 1 0 000 2h2a1 1 0 000-2h-2z" fill="#335EEA" /> </g> </svg></div><div class="ms-4"><h6 class="text-uppercase text-danger mb-0"> Trusted Package Registry</h6><p class="fs-sm text-gray-700 mb-0"> Package management solution</p></div></a> <a class="list-group-item" href="https://platformio.org/"><div class="icon icon-sm text-dark"> <svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"> <g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18 14a3 3 0 110-6 3 3 0 010 6zm-9-3a4 4 0 110-8 4 4 0 010 8z" fill="#335EEA" opacity=".3" /><path d="M17.601 15c3.407.038 6.188 1.76 6.397 5.4.009.147 0 .6-.542.6H19.6c0-2.25-.744-4.328-1.999-6zm-17.6 5.2C.388 15.426 4.26 13 8.983 13c4.788 0 8.722 2.293 9.015 7.2.012.195 0 .8-.751.8H.727c-.25 0-.747-.54-.726-.8z" fill="#335EEA" /> </g> </svg></div><div class="ms-4"><h6 class="text-uppercase text-dark mb-0"> PlatformIO Open Source</h6><p class="fs-sm text-gray-700 mb-0"> Collaborative platform <i class="fe fe-log-out ms-3"></i></p></div></a></div></div></div></div></li><li class="nav-item"> <a class="nav-link" href="/blog/">Blog</a></li><li class="nav-item"> <a class="nav-link" href="/company/about.html">Company</a></li><li class="nav-item ps-lg-10 pt-2"><ul class="list-unstyled list-inline list-social "><li class="list-inline-item list-social-item me-3"> <a href="https://www.linkedin.com/company/platformio/" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Follow on LinkedIn" title="Follow on LinkedIn"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://twitter.com/PlatformIO_Org" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Follow on Twitter" title="Follow on Twitter"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://github.com/platformio" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/github.svg" class="list-social-icon" alt="Follow on Github" title="Follow on Github"> </a></li></ul></li></ul></div></div></nav><div class="bg-light border-top"><nav class="bg-gray-200"><div class="container"><div class="row"><div class="col-12"><ol class="breadcrumb breadcrumb-scroll"><li class="breadcrumb-item"> <a href="/blog/" class="text-gray-700"> Blog </a></li><li class="breadcrumb-item"> <a href="/blog/insights/" class="text-gray-700"> Insights </a></li><li class="breadcrumb-item active" aria-current="page"> Debugging with PlatformIO: Part 1. Back to the Basics</li></ol></div></div></div></nav><article class="bg-white"><section class="pt-8 pt-md-11"><div class="container"><div class="row justify-content-center"><div class="col-12 col-md-10 col-lg-9 col-xl-8"><h1 class="display-4 text-center"> Debugging with PlatformIO: Part 1. Back to the Basics</h1><p class="lead mb-7 text-center text-muted"> A brief introduction to the debug workflow used in PlatformIO Unified Debugger</p><div class="row align-items-center py-5 border-top border-bottom"><div class="col-auto"><div class="avatar avatar-lg"> <a href="https://www.linkedin.com/in/valeros/" target="_blank"><img src="/assets/img/avatars/vkoval.jpg" alt="Valerii Koval" class="avatar-img rounded-circle"></a></div></div><div class="col ms-n5"><h6 class="text-uppercase mb-0"> <a href="https://www.linkedin.com/in/valeros/" target="_blank">Valerii Koval</a></h6><div class="fs-sm text-muted"> Head of System Integration at PlatformIO Labs</div></div><div class="col-auto"> <span class="h6 text-uppercase text-muted d-none d-md-inline me-4"> Share: </span><ul class="list-unstyled list-inline list-social "><li class="list-inline-item list-social-item me-3"> <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Fdebugging-introduction.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Follow on LinkedIn" title="Follow on LinkedIn"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Fdebugging-introduction.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Follow on Twitter" title="Follow on Twitter"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Fdebugging-introduction.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/facebook.svg" class="list-social-icon" alt="Follow on Facebook" title="Follow on Facebook"> </a></li></ul></div></div></div></div></div></section><section class="pt-6 pt-md-8"><div class="container"><div class="row justify-content-center"><div class="col-12 col-md-10 col-lg-9 col-xl-8"><p>Debugging is an inseparable part of the development process. People make mistakes, so our code doesn’t do what we expect once in a while. Often such problems happen at the worst possible time. That’s why it’s a good idea to master debugging techniques and skills to more precisely isolate the source code of a problem and fix it in a timely manner.</p><p>In the <strong>Debugging with PlatformIO</strong> series, we will be exploring the debugging capabilities of the PlatformIO ecosystem. This series will walk you through the core concepts of the debug workflow implemented in <a href="https://docs.platformio.org/en/latest/plus/debugging.html">PlatformIO Unified Debugger</a>. In each part, we will explore new features and techniques which can greatly help us out when we bump into a thorny problem in a real project.</p><p>This series will cover a broad range of topics, starting from the basics like debugging a simple application running on your machine up to advanced topics like debugging a suite of unit tests on a remote embedded target. In each following post, we will use a new combination of debug probes and targets to show how easy it’s to switch between hardware simply by changing several lines in the PlatformIO configuration file.</p><p>Although throughout this series we will be using the PlatformIO IDE for VScode, PlatformIO Unified Debugger supports many other Desktop and Cloud development environments, including <a href="https://docs.platformio.org/en/latest/integration/ide/eclipse.html">Eclipse</a> and <a href="https://docs.platformio.org/en/latest/integration/ide/clion.html">JetBrains CLion</a>.</p><p>The first part provides a brief introduction to the debugging concept and gives a basic overview of debugging process used in the PlatformIO IDE for VSCode without any reference to the embedded software development. Setting breakpoints, adding watch expressions, and other essential features of the debugger are covered in this part.</p><h3>Table of Contents</h3><ul id="markdown-toc"><li><a href="#prerequisites" id="markdown-toc-prerequisites">Prerequisites</a></li><li><a href="#basic-principles" id="markdown-toc-basic-principles">Basic Principles</a></li><li><a href="#platformio-unified-debugger" id="markdown-toc-platformio-unified-debugger">PlatformIO Unified Debugger</a></li><li><a href="#getting-started" id="markdown-toc-getting-started">Getting Started</a></li><li><a href="#working-with-debugger" id="markdown-toc-working-with-debugger">Working with Debugger</a><ul><li><a href="#debug-view" id="markdown-toc-debug-view">Debug View</a></li></ul></li><li><a href="#conclusion" id="markdown-toc-conclusion">Conclusion</a></li><li><a href="#stay-in-touch-with-us" id="markdown-toc-stay-in-touch-with-us">Stay in touch with us</a></li></ul><h2 id="prerequisites">Prerequisites</h2><p>This article uses the following components:</p><ul><li><a href="https://docs.platformio.org/en/latest/integration/ide/vscode.html">VSCode with installed PlatformIO IDE extension</a></li><li><a href="https://platformio.org/platforms/native">Native Development Platform</a></li></ul><h2 id="basic-principles">Basic Principles</h2><p>Modern software may be extremely complex, and sooner or later, we’ll find ourselves in a situation when some part of the code doesn’t work as expected. It’s not always clear what causes our code to behave incorrectly or even crash, so we need to get involved and figure out why and where an error occurs in our program. That process of finding and fixing such errors (so-called “bugs”) is called <em>Debugging</em>. Even though debugging is mostly a unique experience, a few general debugging principles can be picked out:</p><ul><li>Reproduce the problem reliably</li><li>Locate the source of the problem</li><li>Understand the root cause of the problem</li><li>Find a solution for the problem</li><li>Apply the solution and test the fix</li></ul><p>While in simple projects we can make do with printing messages directly to the debug console as the code executes (commonly known as “Print Debugging”), it’s definitely a waste of time when it comes to reasonably complex projects. In such cases, we need more advanced and comprehensive instruments to better understand what actually is happening inside our code. Such tools are called <em>debuggers</em>. In general, debuggers allow working with the code interactively, controlling the execution line-by-line, examining CPU registers, inspecting variables, etc.</p><p>It’s also worth mentioning that to make use of a debugger we need to compile our code with debugging information (e.g. function locations). In general, such information is inserted by a compiler through the use of debugging symbols. An executable with debugging symbols can be executed as a regular binary, but it may be a slightly bigger size and run a bit slower due to disabled optimizations.</p><h2 id="platformio-unified-debugger">PlatformIO Unified Debugger</h2><p>Bringing up a debug configuration might be a daunting task. Developers need to get through complex UI windows just to configure a debugger before a debug session can be launched.</p><p>PlatformIO Unified Debugger is a user-friendly and extensible unified debugging environment with a set of advanced instruments, providing modern and powerful features to speed up, yet simplify, the creation and delivery of modern applications. A zero debugging configuration with support for the most popular debugging probes and compatibility between IDEs/OSes allowed to simplify the debugging process.</p><p>Developers can finally forget about complex UI windows which they need to pre-configure before a simple “Hello World!” debug session. No need to know any aspects about the debugging server or how to configure it because PlatformIO Unified Debugger does all the heavy lifting behind the scenes.</p><h2 id="getting-started">Getting Started</h2><p>First, we need to install the <code class="language-plaintext highlighter-rouge">native</code> development platform. PlatformIO doesn’t install any toolchains automatically for the native dev-platform and uses the toolchain (preferably based on GCC) native for your OS (on Windows it’s recommended to install MinGW and make it available via the <code class="language-plaintext highlighter-rouge">PATH</code> variable). Let’s install the native dev-platform via PlatformIO Home:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-1.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-1.png" /> </a></p><p>For the sake of simplicity, let’s write a simple application that sorts an array of integers using the <a href="https://en.wikipedia.org/wiki/Quicksort">Quicksort</a> algorithm. Instead of creating our project from scratch, we can import a “Hello World” example using the PlatformIO Home page:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-2.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-2.png" /> </a></p><p>Then simply replace the default code in <code class="language-plaintext highlighter-rouge">main.c</code> with the following code:</p><div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;stdio.h&gt;
</span>
<span class="kt">void</span> <span class="nf">swap</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">xp</span><span class="p">,</span> <span class="kt">int</span><span class="o">*</span> <span class="n">yp</span><span class="p">)</span>
<span class="p">{</span>
    <span class="kt">int</span> <span class="n">temp</span> <span class="o">=</span> <span class="o">*</span><span class="n">xp</span><span class="p">;</span>
    <span class="o">*</span><span class="n">xp</span> <span class="o">=</span> <span class="o">*</span><span class="n">yp</span><span class="p">;</span>
    <span class="o">*</span><span class="n">yp</span> <span class="o">=</span> <span class="n">temp</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">sort</span><span class="p">(</span><span class="kt">int</span><span class="o">*</span> <span class="n">array</span><span class="p">,</span> <span class="kt">int</span> <span class="n">first</span><span class="p">,</span> <span class="kt">int</span> <span class="n">last</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">first</span> <span class="o">&lt;</span> <span class="n">last</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="kt">int</span> <span class="n">left</span> <span class="o">=</span> <span class="n">first</span><span class="p">,</span> <span class="n">right</span> <span class="o">=</span> <span class="n">last</span><span class="p">,</span> <span class="n">middle</span> <span class="o">=</span> <span class="n">array</span><span class="p">[(</span><span class="n">left</span> <span class="o">+</span> <span class="n">right</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">];</span>
        <span class="k">do</span>
        <span class="p">{</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">left</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">middle</span><span class="p">)</span> <span class="n">left</span><span class="o">++</span><span class="p">;</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">array</span><span class="p">[</span><span class="n">right</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">middle</span><span class="p">)</span> <span class="n">right</span><span class="o">--</span><span class="p">;</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="n">swap</span><span class="p">(</span><span class="o">&amp;</span><span class="n">array</span><span class="p">[</span><span class="n">left</span><span class="p">],</span> <span class="o">&amp;</span><span class="n">array</span><span class="p">[</span><span class="n">right</span><span class="p">]);</span>
                <span class="n">left</span><span class="o">++</span><span class="p">;</span>
                <span class="n">right</span><span class="o">--</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">left</span> <span class="o">&lt;=</span> <span class="n">right</span><span class="p">);</span>
        <span class="n">sort</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">first</span><span class="p">,</span> <span class="n">right</span><span class="p">);</span>
        <span class="n">sort</span><span class="p">(</span><span class="n">array</span><span class="p">,</span> <span class="n">left</span><span class="p">,</span> <span class="n">last</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="n">puts</span><span class="p">(</span><span class="s">"Getting started with PlatformIO Unified Debugger!</span><span class="se">\r\n</span><span class="s">"</span><span class="p">);</span>
    <span class="kt">int</span> <span class="n">input_array</span><span class="p">[]</span> <span class="o">=</span> <span class="p">{</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">17</span><span class="p">,</span> <span class="mi">34</span><span class="p">,</span> <span class="mi">90</span><span class="p">,</span> <span class="mi">48</span><span class="p">,</span> <span class="mi">72</span><span class="p">,</span> <span class="mi">50</span><span class="p">,</span> <span class="mi">86</span> <span class="p">};</span>
    <span class="kt">int</span> <span class="n">length</span> <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">input_array</span><span class="p">)</span><span class="o">/</span><span class="k">sizeof</span><span class="p">(</span><span class="n">input_array</span><span class="p">[</span><span class="mi">0</span><span class="p">]);</span>
    <span class="n">sort</span><span class="p">(</span><span class="n">input_array</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">length</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div><p>If we try to build the imported project, we should see the successful result:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-3.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-3.png" /> </a></p><p>Please note that the goal of this post is to focus on the debug workflow, so don’t rely on the code presented above in real projects.</p><h2 id="working-with-debugger">Working with Debugger</h2><p>Now we are ready to start debugging! To launch a new debug session we can use the following options:</p><ul><li>Debug: Start debugging from the top menu</li><li>Start Debugging option from the <code class="language-plaintext highlighter-rouge">Quick Access</code> menu</li><li>Hotkey button <code class="language-plaintext highlighter-rouge">F5</code>:</li></ul><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-4.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-4.png" /> </a></p><p>Our program will start executing and then stop at the first breakpoint. Keep in mind that, by default, PlatformIO instructs the debugger to stop at the <code class="language-plaintext highlighter-rouge">main</code> function. Let’s take a closer look at our project using the debugger and its features.</p><h3 id="debug-view">Debug View</h3><p>When we start a debug session, the IDE switches to the “Debug View” with several panes which provide easy access to the debugger’s functionality:</p><p><a data-bigpicture="{&quot;imgSrc&quot;: &quot;/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-5.png&quot;}" href="#"> <img class="img-fluid screenshot mw-md-100" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-5.png" /> </a></p><p>Let’s look around and examine the most important elements.</p><h4 id="controlling-the-program-execution">Controlling the program execution</h4><p>The Debugger View provides complete control of the debugging process. You can access most of the essential control actions such as:</p><figure class="figure mb-4" align="center"> <img class="figure-img img-fluid rounded lift lift-lg" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-6.png" alt="Debug Control Actions" /><figcaption class="figure-caption text-center"> Control Actions</figcaption></figure><ul><li><code class="language-plaintext highlighter-rouge">Continue/Pause (F5)</code> runs the program until it locates a breakpoint and then stops.</li><li><code class="language-plaintext highlighter-rouge">Step Over (F10)</code> executes the current statement and all functions that the statement calls and doesn’t suspend the execution until functions return.</li><li><code class="language-plaintext highlighter-rouge">Step Into (F11)</code> advances the execution to the next statement. If the current statement is a function call, then the debugger steps into that function.</li><li><code class="language-plaintext highlighter-rouge">Step Out (Shift+F11)</code> moves the execution out of the current function and back to the statement where the function was called.</li><li><code class="language-plaintext highlighter-rouge">Restart (Ctrl+Shift+F5)</code> is a convenient shortcut for two operations: stopping the debug session and restarting the debugger.</li><li><code class="language-plaintext highlighter-rouge">Stop (Shift+F5)</code> stops the debug session and terminates the program.</li></ul><h4 id="managing-breakpoints">Managing Breakpoints</h4><p>Breakpoints are one of the most important features of the debugging process. A breakpoint is a mechanism to suspend the execution of an application to inspect the state of variables with the ability to modify them to figure out why a problem is occurring. Usually, breakpoints are shown as red-filled circles in the editor margin.</p><figure class="figure mb-4" align="center"> <img class="figure-img img-fluid rounded lift lift-lg" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-7.png" alt="Breakpoints Window" /><figcaption class="figure-caption text-center"> Breakpoints Window</figcaption></figure><p>We can toggle breakpoints directly in the editor pane by clicking on the left margin next to the current line or using the <code class="language-plaintext highlighter-rouge">F9</code> hotkey. A more precise configuration like group enabling, disabling, or setting breakpoint conditions can be done in the <code class="language-plaintext highlighter-rouge">Breakpoints</code> section. In the next posts in this series, we will take a deeper look at more advanced breakpoint configuration, including conditional and data breakpoints.</p><h4 id="call-stack">Call Stack</h4><p>Each time when the debugger pauses the execution (due to a breakpoint or during stepping), the sequence of function calls is displayed in the “Call Stack” window:</p><figure class="figure mb-4" align="center"> <img class="figure-img img-fluid rounded lift lift-lg" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-8.png" alt="Call Stack Window" /><figcaption class="figure-caption text-center"> Call Stack Window</figcaption></figure><p>The “Call Stack” window is useful when we need to examine the actual execution flow of an application. It shows the name of each called function, its address in memory, the file name and the line number where the function is defined. We can jump between stack frames and the debugger will automatically update the variables and registers. A green line will show where the execution pointer is currently located according to the selected stack frame.</p><h4 id="working-with-variables">Working with Variables</h4><p>The examination of variables is one of the essential steps for understanding why an application operates incorrectly. When the debugger is suspended, the “Variables” window allows us to inspect and modify the variables available in the context where an application is paused:</p><figure class="figure mb-4" align="center"> <img class="figure-img img-fluid rounded lift lift-lg" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-9.png" alt="Variables Window" /><figcaption class="figure-caption text-center"> Variables Window</figcaption></figure><p>If we double-click the value for a variable, we can edit its value. It may be useful when there is a need to verify how an application would work in a certain condition at runtime.</p><h4 id="watch-expressions">Watch Expressions</h4><p>The Watch window allows us to specify a variable (or an expression) that will be reevaluated and displayed every time the debugger stops:</p><figure class="figure mb-4" align="center"> <img class="figure-img img-fluid rounded lift lift-lg" src="/assets/posts/2021-09-20-debugging-introduction/debugging-introduction-10.png" alt="Watch Window" /><figcaption class="figure-caption text-center"> Watch Window</figcaption></figure><p>To add a new watch expression click the <code class="language-plaintext highlighter-rouge">+</code> button in the top right corner of the panel, type the expression into the text field, and press Enter to save it. The expression will be evaluated each time when the code hits a breakpoint or when we step through the code. Unlike the frame-specific “Variables” window, the “Watch” window always shows the variables that we’ve added.</p><h2 id="conclusion">Conclusion</h2><p>All developers make mistakes, and as a result, bugs show up. Learning how to debug effectively takes time, but in the long run, it can make the development process less stressful when an unexpected side effect happens. A debugger in any programming language is an essential instrument for tracking down problems in code, especially in a large and complex codebase.</p><p>In this post, we only scratched the surface of capabilities available in PlatformIO Unified Debugger. There is a lot of useful functionality we didn’t cover in this post which can greatly help us in real projects. The <a href="/blog/insights/debugging-embedded.html">next post</a> will be more embedded-specific, we’ll look at some more advanced features, such as peripheral and disassembly views, advanced breakpoints, and much more!</p><h2 id="stay-in-touch-with-us">Stay in touch with us</h2><p>Stay tuned to this blog or follow us on <a href="https://www.linkedin.com/company/platformio" target="_blank">LinkedIn</a> and Twitter <a href="https://twitter.com/PlatformIO_Org" target="_blank">@PlatformIO_Org</a> to keep up to date with the latest news, articles and tips!</p></div></div></div></section><section class="py-6 py-md-8"><div class="container"><div class="row justify-content-center"><div class="col-12 col-md-10 col-lg-9 col-xl-8"><div class="row align-items-center py-5 border-top border-bottom"><div class="col-auto"><div class="avatar avatar-lg"> <a href="https://www.linkedin.com/in/valeros/" target="_blank"><img src="/assets/img/avatars/vkoval.jpg" alt="Valerii Koval" class="avatar-img rounded-circle"></a></div></div><div class="col ms-n5"><h6 class="text-uppercase mb-0"> <a href="https://www.linkedin.com/in/valeros/" target="_blank">Valerii Koval</a></h6><div class="fs-sm text-muted"> <time datetime="2021-09-20T00:00:00+03:00"> Published on 20th Sep 2021 </time></div></div><div class="col-auto"> <span class="h6 text-uppercase text-muted d-none d-md-inline me-4"> Share: </span><ul class="list-unstyled list-inline list-social "><li class="list-inline-item list-social-item me-3"> <a href="https://www.linkedin.com/shareArticle?mini=true&url=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Fdebugging-introduction.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Follow on LinkedIn" title="Follow on LinkedIn"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://twitter.com/intent/tweet?url=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Fdebugging-introduction.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Follow on Twitter" title="Follow on Twitter"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://www.facebook.com/sharer.php?u=https%3A%2F%2Fpiolabs.com%2Fblog%2Finsights%2Fdebugging-introduction.html" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/facebook.svg" class="list-social-icon" alt="Follow on Facebook" title="Follow on Facebook"> </a></li></ul></div></div></div></div></div></section></article><section class="pt-4 pt-md-6 pb-8 pb-md-10 bg-white"><div class="container"><div class="row justify-content-center"><div class="col-12 col-md-10 col-lg-9 col-xl-8"><div class="row align-items-center"><div class="col-12 col-md"><h3 class="mb-1"> Have questions?</h3><p class="fs-lg text-muted mb-6 mb-md-0"> Join the discussion on our forum</p></div><div class="col-12 col-md-auto"> <a href="https://community.platformio.org/t/debugging-with-platformio-part-1-back-to-the-basics/23534" class="btn btn-primary-soft me-1 lift" target="_blank"> Continue discussion <i class="fe fe-arrow-right ms-3"></i> </a></div></div></div></div></div></section><section class="pt-7 pb-9 pt-md-10 bg-light border-top"><div class="container"><div class="row align-items-center mb-5"><div class="col-12 col-md"><h3 class="mb-0"> Popular posts</h3></div><div class="col-12 col-md-auto"> <a href="/blog/latest.html" class="btn btn-sm btn-outline-gray-300 d-none d-md-inline"> View more </a></div></div><div class="row"><div class="col-12 col-md-6 col-lg-4 d-flex"><div class="card mb-6 shadow-light-lg lift lift-lg"> <a class="card-img-top" href="/blog/news/platformio-ide-2-0-for-vscode-released.html"> <img src="/assets/posts/2020-09-10-platformio-ide-2-0-for-vscode-released/platformio-ide-for-vscode.png" alt="PlatformIO IDE 2.0 for VSCode 🚀" class="card-img-top"><div class="position-relative"><div class="shape shape-bottom shape-fluid-x text-white"> <svg viewBox="0 0 2880 480" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2160 0C1440 240 720 240 720 240H0v240h2880V0h-720z" fill="currentColor" /> </svg></div></div></a> <a class="card-body" href="/blog/news/platformio-ide-2-0-for-vscode-released.html"><h3> PlatformIO IDE 2.0 for VSCode 🚀</h3><p class="mb-0 text-muted"> PlatformIO IDE 2.0 for Microsoft Visual Studio Code (VSCode) is out and brings task explorer, project environment switcher, and a new installer</p></a> <a class="card-meta mt-auto" href="/blog/news/platformio-ide-2-0-for-vscode-released.html"><hr class="card-meta-divider"><div class="avatar avatar-sm me-2"> <img src="/assets/img/avatars/ikravets.jpg" alt="Ivan Kravets" class="avatar-img rounded-circle"></div><h6 class="text-uppercase text-muted me-2 mb-0"> Ivan Kravets</h6><p class="h6 text-uppercase text-muted mb-0 ms-auto"> <time datetime="2020-09-10T00:00:00+03:00">Sep 10</time></p></a></div></div><div class="col-12 col-md-6 col-lg-4 d-flex"><div class="card mb-6 shadow-light-lg lift lift-lg"> <a class="card-img-top" href="/blog/press-releases/platformio-labs-joins-eclipse-foundation.html"> <img src="/assets/posts/2020-12-01-platformio-labs-joins-eclipse-foundation/piolabs-joins-eclipse-foundation.jpg" alt="PlatformIO Labs joins Eclipse Foundation" class="card-img-top"><div class="position-relative"><div class="shape shape-bottom shape-fluid-x text-white"> <svg viewBox="0 0 2880 480" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2160 0C1440 240 720 240 720 240H0v240h2880V0h-720z" fill="currentColor" /> </svg></div></div></a> <a class="card-body" href="/blog/press-releases/platformio-labs-joins-eclipse-foundation.html"><h3> PlatformIO Labs joins Eclipse Foundation</h3><p class="mb-0 text-muted"> PlatformIO Labs today announces joining the Eclipse Foundation as a contributing member to introduce a tighter integration with the Eclipse ecosystem</p></a> <a class="card-meta mt-auto" href="/blog/press-releases/platformio-labs-joins-eclipse-foundation.html"><hr class="card-meta-divider"><div class="avatar avatar-sm me-2"> <img src="/assets/img/avatars/ikravets.jpg" alt="Ivan Kravets" class="avatar-img rounded-circle"></div><h6 class="text-uppercase text-muted me-2 mb-0"> Ivan Kravets</h6><p class="h6 text-uppercase text-muted mb-0 ms-auto"> <time datetime="2020-12-01T00:00:00+02:00">Dec 01</time></p></a></div></div><div class="col-12 col-md-6 col-lg-4 d-flex"><div class="card mb-6 shadow-light-lg lift lift-lg"> <a class="card-img-top" href="/blog/news/platformio-oss-november-updates.html"> <img src="/assets/posts/oss-updates/platformio-oss-november-news.jpg" alt="PlatformIO Open Source November Updates" class="card-img-top"><div class="position-relative"><div class="shape shape-bottom shape-fluid-x text-white"> <svg viewBox="0 0 2880 480" fill="none" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" clip-rule="evenodd" d="M2160 0C1440 240 720 240 720 240H0v240h2880V0h-720z" fill="currentColor" /> </svg></div></div></a> <a class="card-body" href="/blog/news/platformio-oss-november-updates.html"><h3> PlatformIO Open Source November Updates</h3><p class="mb-0 text-muted"> PlatformIO Core bugfix release, New boards & dev-kits, Support for Zephyr 2.4, Updated support for STM32Cube, Updated Arduino cores for Microchip SAM and ST STM32</p></a> <a class="card-meta mt-auto" href="/blog/news/platformio-oss-november-updates.html"><hr class="card-meta-divider"><div class="avatar avatar-sm me-2"> <img src="/assets/img/avatars/vkoval.jpg" alt="Valerii Koval" class="avatar-img rounded-circle"></div><h6 class="text-uppercase text-muted me-2 mb-0"> Valerii Koval</h6><p class="h6 text-uppercase text-muted mb-0 ms-auto"> <time datetime="2020-12-04T00:00:00+02:00">Dec 04</time></p></a></div></div></div></div></section></div><div class="position-relative"><div class="shape shape-bottom shape-fluid-x text-dark"> <svg viewBox="0 0 2880 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0 48h2880V0h-720C1442.5 52 720 0 720 0H0v48z" fill="currentColor"/></svg></div></div><section class="bg-dark "><footer class="py-8 py-md-11 bg-dark border-gray-800-50 "><div class="container"><div class="row"><div class="col-12 col-md-6 col-lg-4"> <a href="/"><img src="/assets/img/platformio-labs-logo-horizontal-white.png" alt="PlatformIO Labs" class="img-fluid mb-2 mw-lg-75"></a><p class="text-gray-400 mb-2"> Make embedded developers and teams happy.</p><ul class="list-unstyled list-inline list-social mb-2"><li class="list-inline-item list-social-item me-3"> <a href="https://www.linkedin.com/company/platformio/" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/linkedin.svg" class="list-social-icon" alt="Follow on LinkedIn" title="Follow on LinkedIn"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://twitter.com/PlatformIO_Org" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/twitter.svg" class="list-social-icon" alt="Follow on Twitter" title="Follow on Twitter"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://www.facebook.com/platformio" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/facebook.svg" class="list-social-icon" alt="Follow on Facebook" title="Follow on Facebook"> </a></li><li class="list-inline-item list-social-item me-3"> <a href="https://github.com/platformio" class="text-decoration-none" target="_blank"> <img src="/assets/img/icons/social/github.svg" class="list-social-icon" alt="Follow on Github" title="Follow on Github"> </a></li></ul><p class="mb-6 mb-md-2 text-gray-600"> <small>© 2014-2021 PlatformIO Labs OÜ.</small></p></div><div class="col-12 col-md-6 col-lg-2"><h6 class="text-uppercase text-gray-400"> Company</h6><ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0"><li class="mb-3"> <a href="/" class="text-reset"> Home </a></li><li class="mb-3"> <a href="/company/about.html" class="text-reset"> About Us </a></li><li class="mb-3"> <a href="/blog/" class="text-reset"> Blog </a></li><li class="mb-3"> <a href="/#contact-us" class="text-reset"> Contact Us </a></li></ul></div><div class="col-12 col-md-6 col-lg-3"><h6 class="text-uppercase text-gray-400"> Technology</h6><ul class="list-unstyled text-muted mb-6 mb-md-8 mb-lg-0"><li class="mb-3"> <a href="/technology/next-generation-ide-framework.html" class="text-reset"> Next-Gen IDE Framework </a></li><li class="mb-3"> <a href="/technology/modern-ui-toolkit.html" class="text-reset"> Modern UI Toolkit </a></li><li class="mb-3"> <a href="/technology/trusted-package-registry.html" class="text-reset"> Trusted Package Registry </a></li><li> <a href="https://platformio.org/" class="text-reset"> PlatformIO Open Source </a></li></ul></div><div class="col-12 col-md-6 col-lg-3"><h6 class="text-uppercase text-gray-400"> Legal</h6><ul class="list-unstyled text-muted mb-0"><li class="mb-3"> <a href="/legal/code-of-conduct.html" class="text-reset"> Code of Conduct </a></li><li class="mb-3"> <a href="/legal/privacy.html" class="text-reset"> Privacy Policy </a></li><li class="mb-3"> <a href="/legal/terms-of-use.html" class="text-reset"> Terms of Use </a></li><li class="mb-3"> <a href="/legal/trademarks.html" class="text-reset"> Trademarks </a></li></ul></div></div></div></footer></section><script src="/assets/js/vendor.bundle.js?v=4"></script> <script src="/assets/js/theme.bundle.js?v=4"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-1768265-12"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'UA-1768265-12'); </script></body></html>
